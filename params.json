{
  "name": "Convista-ds-sdk-visualizations",
  "tagline": "",
  "body": "ConVista-DS-SDK-Visualizations\r\n==============================\r\nDesign Studio SDK Visualization Components by ConVista Consulting to enhance Dashboard KPI analysis and visualization with state-of-the-art maps technology, HTML editors to put some shiny comments, hierarchy selection and a chat component.\r\n\r\nSee also my blog entries on SCN regarding\r\nmaps: http://scn.sap.com/community/businessobjects-design-studio/blog/2014/12/01/google-maps-and-openstreetmap-component-sdk-development-insights\r\n\r\nDesignStudio comments: \r\nhttp://scn.sap.com/community/businessobjects-design-studio/blog/2016/03/11/self-made-designstudio-sdk-dashboard-comments\r\n\r\nHierarchy selection component:\r\nhttp://scn.sap.com/community/businessobjects-design-studio/blog/2016/08/12/design-studio-sdk-hierarchy-selector-component-go-catch-em-all\r\n\r\n<b>Breaking News: New Components Hierarchy Selector and ConVista SDK Chat added to the repository.</b>\r\n\r\nFind detailed descriptions and an API overview here: http://martinpankraz.github.io/ConVista-DS-SDK-Visualizations/\r\n\r\nPrerequisites\r\n-------------\r\nDesign Studio, Release 1.6 SP0 or higher\r\n\r\n\r\nSAP BW, UNX or HANA as DataSources with a type of address data, which can then be mapped by Google’s geocoder API (e.g. Rheinauhafen 15, Cologne) or represent lat-long values right away. Alternatively you could also use my custom data source providing test data for a quick hands-on.\r\n\r\nhttps://github.com/MartinPankraz/DesignStudioSDK-Components/blob/master/DesignStudioSDKComponentsPack_14.zip\r\n\r\nNetWeaver or BO sever platform to deploy the extensions for production purposes (local mode works out of the box)\r\n\r\nGoogle API Key that you can get from Google’s API Console (please note that local mode works without a key). The key will be used for Google's geocoder (used by both components). If you stick to the lat-long only version you don't need a key.\r\n\r\n\r\nContents\r\n--------\r\n• ConVista EasyComment\r\n\r\n• ConVista Hierarchy Selector\r\n\r\n• ConVista Chat\r\n\r\n• ConVista GoogleMap & OSM\r\n\r\n\r\nConVista EasyComment\r\n--------------------\r\nThis component enables you to put comments onto your dashboard. You can find a detailed description how to integrate it with SAP backend here: \r\n\r\n<b>Properties</b>\r\n\r\nYou can customize the commentary editor toolbars using the property Toolbar Settings. For the Document toolbar you can even decide on item level. Please note that the save button will always be present because it is tied to the On Save Button Clicked event.\r\n\r\n<b>Events</b>\r\n\r\nThe On Save Button Click Event exposes the functionality of the toolbar save button. That way you can put DesignStudio scripting which executes after clicking the editor's save button. How to integrate with your backend using this event is discussed in the SCN blog entry already mentioned above.\r\n\r\nConVista Chat\r\n--------------------\r\nThis component enables you to setup a fully blown chat component. For backend integration we recommend using the SCN SDK component WSPusher which is an implementation of the WebSocket standard also done by me. You can find the code and the component here: https://github.com/org-scn-design-studio-community/sdkpackage\r\n\r\n<b>Properties</b>\r\n\r\n• <i>Chat Messages</i>\r\n\r\nThis property allows you to define messages upfront manually. Furthermore it is used when messages are added to the component through Design Studio Scripting. It uses the new SDK type Array and Object.\r\n\r\n• <i>Enable SAP Social (commons only)</i>\r\n\r\nEnable the UI5 social feature. This adds a \"reply\" text link to your messages, which opens an input dialog. The user's actions are exposed to the chat components events. This feature is only available if the component is run in commons mode.\r\n\r\n• <i>Date Pattern</i>\r\n\r\nDefine the date pattern using LDML format which is required by sap.ui.core.format.DateFormat.\r\n\r\n• <i>Date Style</i>\r\n\r\nDefine the date style using LDML format which is required by sap.ui.core.format.DateFormat.\r\n\r\n<b>Methods</b>\r\n\r\n• <i>createMessage</i>\r\n\r\nCreate a message using current timestamp.\r\n\r\n• <i>addMessage</i>\r\n\r\nAdd a new message defining all properties yourself.\r\n\r\n• <i>addMessageList</i>\r\n\r\nAdd a list of messages to the chat component. The JSON strings needs the following structure:\r\n\r\n\t[{\r\n\t\t\"myId\": \"1\",\r\n\t\t\"chatId\": \"TEST\",\r\n\t\t\"user\": \"Martin\",\r\n\t\t\"title\": \"My first commons post!\",\r\n\t\t\"datetime\": \"20160905100120\",\r\n\t\t\"text\": \"This is looking really cool. What do you think Jose?\",\r\n\t\t\"picture\": \"zen/mimes/TEST_TIMELINE/img/mpankraz.jpg\",\r\n\t\t\"priority\": \"Low\"\r\n\t},\r\n\t{…}]\r\n\t\r\nThe optional flag override enables you to decide if you want to append messages or replace with new ones.\r\n\r\n• <i>getCurrentActiveMessageId</i>\r\n\r\nGet identifier (JSON attribute myId) of last selected chat item.\r\n\r\n• <i>clear</i>\r\n\r\nClear complete chat view.\r\n\r\n• <i>deleteMessage</i>\r\n\r\nDelete single message by id from chat view.\r\n\r\n• <i>deleteMessages</i>\r\n\r\nDelete list of messages by array of ids from chat view. The JSON strings needs the following structure:\r\n\r\n[1, 2, 3, 4568, 455]\r\n\r\n\r\n\r\n<b>Events</b>\r\n\r\n• <i>On Reply (commons mode only)</i>\r\n\r\nThis even fires if send button the SAP social inpu dialog is hit. This event is only active if the component is run in commons mode.\r\n\r\n• <i>On Message Close/Select</i>\r\n\r\nThis event fires in case an item of the chat component is clicked. It makes sense to call the method getCurrentActiveMessageId along with it to learn which item was clicked.\r\n\r\nConVista Hierarchy Selector\r\n---------------------------\r\nThis component enables you to consume BW hierarchies exposed through data sources. One single root node is a minimum requirement for the hierarchy. Otherwise only the branch for the first node will be shown. \r\n\r\n<b>Properties</b>\r\n\r\n• <i>Navigation Mode</i>\r\n\r\nUse Paginator or Scrollbar in case of display overflow\r\n\r\n• <i>Visible Row Count</i>\r\n\r\nDecide how many rows shall be displayed initially\r\n\r\n• <i>Visible Row Count Mode</i>\r\n\r\nDecide if the component shall stretch automatically (auto), stay fixed (fixed) or be flexible (interactive)\r\n\r\n• <i>Row Height in px</i>\r\n\r\nDefine the amount of pixel to be used for each row height\r\n\r\n• <i>Level for Expand All Option</i>\r\n\r\nDefine the level to which the tree shall expand on click of the top right button\r\n\r\n• <i>Expand first Level on Start</i>\r\n\r\nDecide if the root node shall be collapsed at start or not\r\n\r\n• <i>Display row lines</i>\r\n\r\nDecide if you want to see the table row lines or not\r\n\r\n• <i>Hide Key on KEY_TEXT display</i>\r\n\r\nIn order to be able to use the method <i>getSelectionKeysBexReady</i> for external keys you will need to enable key_text or text_key as display option on your data source. The reason is that the external representation of the key is transmitted to the SDK component only then. Having done that you might still want to show only the text on the tree. This option will allow you to do so.\r\n\r\n<b>Important Methods</b>\r\n\r\n• <i>getSelectionKeysBexReady(boolean internalKeyFormat,optional boolean completeKey)</i>\r\n\r\nYou have to decide if you want the shortened internal or the external representation of the key (please not my comment regarding that above). If you need the full technical key (e.g. 0HIERARCHY/0HIER_NODE/1234) flag the optional second parameter completeKey with true.\r\n\r\n• <i>getFilterExtBexReady()</i>\r\n\r\nThis method will return a string which can be fed into Design Studio Scripting method setFilterExt right away. It even takes care of SAP's special node syntax (e.g +OPERATIVE CASH FLOWS(Text Node))\r\n\r\n<b>Events</b>\r\n\r\nThe On CheckBox Selected Event fires every time the user hits a checkbox on the tree.\r\n\r\n\r\nConVista Maps Implementation\r\n----------\r\n\r\nThe following section covers the properties, functions and events of our google maps and OpenStreetMap implementation. Our OSM component is deprecated by now because SAP offers a standard version.\r\n\r\nMaps Properties\r\n----------\r\n<b><i>DataBinding group</i></b>\r\n\r\nSpecify the DataSource containing the data to be visualized with maps extension here. Please note that SAP has specified a limit of 10,000 data cells that can be transferred to SDK extensions (see SAP Design Studio Developer Guide on that matter).\r\n\r\n<b><i>Geo Database group</i></b>\r\n\r\n<b>CSS Class</b>\r\n\r\nName your custom CSS class to override default behavior\r\n\r\n<b>Address DB URL</b>\r\n\r\nSpecifies URL where Apache CouchDB is running. Please note that you might need to set CORS settings due to CROSS ORIGIN request policy in browsers.\r\n\r\nDefault is http://127.0.0.1:5984/ [your database name].\r\n\r\nUse GET to gather info and POST to add geo data. Just ask me if you need further information.\r\n\r\n<b>Address DB URL Extension</b>\r\n\r\nURL extension for REST interface to read geo data bulk-wise from Apache CouchDB. Default is:\r\n\r\n/_all_docs?include_docs=true\r\n\r\n<b>Google API Key</b>\r\n\r\nThis field contains your Google API key (can be left empty in local mode for development purposes)\r\n<br>\r\n\r\nYou can leave all of the above entries empty if you want to use the new lat-long feature.\r\n<br>\r\n\r\n<b><i>Display group</i></b>\r\n\r\n<b>Address Dimension</b>\r\n\r\nSpecifies the dimension (or column name) in your DataSource, containing the address data, for example “Rheinauhafen 15, Cologne”. If you want to use the lat-long feature leave it empty!\r\n\r\n<b>Latitude Dimension</b>\r\n\r\nSpecifies the dimension (or column name) in your DataSource, containing the latitude data, for example “50.927276”. You will need to look up the key figure/characteristic's name on the data sources initial view\r\n\r\n<b>Longitude Dimension</b>\r\n\r\nSpecifies the dimension (or column name) in your DataSource, containing the longitude data, for example “6.966115”. You will need to look up the key figure/characteristic's name on the data sources initial view\r\n\r\n<b>Clustering Max Zoom</b>\r\n\r\nSpecifies the maximum zoom level until when to use the clustering mechanism. If you zoom further in clustering will be switched off and activated again on zoom out.\r\n\r\n<b>Marker-Content Dimension</b>\r\n\r\nSpecifies the dimension (or row/column name) in your DataSource, containing the data to be displayed when a marker (not a cluster) is clicked\r\n\r\n<b>Date Dimension</b>\r\n\r\nSpecifies the dimension (or row/column name) in your DataSource, containing the dates associated with your key figures\r\n\r\n<b>Keyfigure1 Name</b>\r\n\r\nSpecifies the dimension (or row/column name) in your DataSource, containing your first key figure\r\n\r\n<b>Keyfigure1 (t-1)</b>\r\n\r\nThis dimensions specification enables users to display the key figure value developments over time. For example:\r\nActual cost\t\t|\tActual cost (last year)\r\n€1234,56\t\t|\t€1000,00\r\nTrends will be displayed by green or red arrows in combination with corresponding percentages next to a clustered marker.\r\n\r\n<b>Keyfigure1 Clustering Steps</b>\r\n\r\nSpecifies the value limits for different display behavior. For example, green (10), yellow or red (500) cluster marker. Example input: [\"10\",\"50\",\"100\",\"200\",\"500\"]. This is also customizable via CSS.\r\n\r\n<b>Keyfigure2 Name</b>\r\n\r\nSpecifies the dimension (or row/column name) in your DataSource containing your second key figure\r\n\r\n<b>Keyfigure2 (t-1)</b>\r\n\r\nWorks accordingly to Keyfigure1\r\n\r\n<b>Keyfigure2 Clustering Steps</b>\r\n\r\nWorks accordingly to Keyfigure1\r\n\r\n<b>Keyfigure Variation Tolerance (%)</b>\r\n\r\nSpecifies the tolerance (in percentage) used to suppress trend display. Typically users want a 5% discrepancy interval that should be treated as stagnation.\r\n\r\nEvents\r\n------\r\n<b>On Marker Clicked</b>\r\n\r\nThis event occurs in case a plain marker (not a clustered one) is clicked. This action opens a message box on the map displaying the data specified in property Marker-Content Dimension and enables you also to handle marker information (for example address, ID, etc.) outside the extension e.g. for further filtering in charts.\r\n\r\n<b>On Cluster Clicked</b>\r\n\r\nThis event works the same way but on cluster level with the exception that no message box is displayed. The clicked cluster is highlighted instead.\r\n\r\nExtensions API\r\n--------------\r\nThe following methods are available in SAP Design Studios Script Editor for the extension components.\r\n\r\n<b>String getAddress()</b>\r\n\r\nReturns address information associated with the last clicked marker. (You should call this one within the event handler for marker clicked.)\r\n\r\n<b>String getClusterSelection(String dimension)</b>\r\n\r\nReturns the information specified by the method argument dimension (e.g. “Date”) that is associated with the last clicked cluster (you should call this one within the event handler for cluster clicked) as a JSON object.\r\nFor example:\r\n{“dimension_name”: [“20140101”,”20140102”,…]}\r\n\r\n<b>String getMarkerSelection(String dimension)</b>\r\n\r\nReturns the information specified by the method argument dimension (e.g. “Date”) that is associated with the last clicked marker (you should call this one within the event handler for marker clicked) as a JSON object.\r\nFor example:\r\n'{“dimension_name”: [“20140101”,”20140102”,…]}'\r\n\r\n<b>String getClusterSelectionFilterData(String dimension)</b>\r\n\r\nReturns the information (without dimension name, just raw data) specified by the method argument dimension (e.g. “Date”) that is associated with the last clicked cluster (you should call this one within the event handler for cluster clicked) as a JSON object.\r\nFor example:\r\n[“20140101”,”20140102”,…]\t->\tThis can be used for chart filtering for instance.\r\n\r\n<b>String getMarkerSelectionFilterData(String dimension)</b>\r\n\r\nReturns the information (without dimension name, just raw data) specified by the method argument dimension (e.g. “Date”) that is associated with the last clicked marker (you should call this one within the event handler for marker clicked) as a JSON object.\r\nFor example:\r\n[“20140101”,”20140102”,…]\t->\tThis can be used for chart filtering for instance.\r\n\r\n<b>void setCurrentKeyfigureDisplay(String keyFigureName)</b>\r\n\r\nChanges the key figure display setting for all of the clusters during runtime. This way you can control programmatically which key figure is shown to the user.\r\n\r\n<b>String getCurrentKeyfigureDisplay()</b>\r\n\r\nReturns the current key figure name used to display key figures on clusters.\r\n\r\n<b>void centerMap(lat, lon, zoom)</b>\r\n\r\nCenter map on lat/lon and zoom level. For example DATAMAP_1.centerMap(-52.31041, -63.62642, 8); \r\n\r\n<b>float getCenterLatitude</b>\r\n\r\nGet latitude of last center specification.\r\n\r\n<b>float getCenterLongitude</b>\r\n\r\nGet longitude of last center specification.\r\n\r\n<b>int getClusteringMaxZoom</b>\r\n\r\nRetrieve max zoom level setting\r\n\r\n<b>void setClusteringMaxZoom</b>\r\n\r\nSet max zoom level setting\r\n\r\n<b>int getZoom</b>\r\n\r\nGet  current maps zoom level\r\n\r\nGeo Coding and Geo-Data Persistence\r\n-----------------------------------\r\nGoogle’s geo coding API can be used for free to a certain degree. In order to lighten workload on your account we have introduced two possible ways to store your geo-referenced data that has been determined by the API at first run. The first approach is by installing an Apache CouchDB instance and pointing the extension to the database URL. Secondly you can use current browser’s internal IndexedDB which sets up a full blown database that is tied to your domain. With IndexedDB, please note that for development purposes, you might need to use a static jetty port, as that is already part of the domain. Otherwise you might set up a database instance with every program execution during SDK development. This is no problem outside the SDK. You could also possibly use a different RESTful and JSON-capable database instead of CouchDB. Just give me a hint if you need further information or assistance on that matter.\r\n\r\n<b>If you are using the new lat-long feature the above section regarding geo coding and data persistence doesn't apply to you</b>\r\n\r\nHow it works (short version)\r\n----------------------------\r\nOn first run the app logic will look for key figures and their corresponding description dimensions in the attached DataSource. Setting up all of your markers and clusters will take some time as the geocoder restricts traffic while using the free plan. Persistent storage of your geo data will make sure you don’t call the API more than once for every address entry in your DataSource (see section above).\r\nAny update, for example applying an arbitrary filter, to the underlying DataSource will also be propagated to the extension and impact on your view immediately.\r\n\r\n<b><i>Again, if you are using the new lat-long feature this section doesn't apply to you. Your makers will show up right away.</i></b>\r\n\r\n<b>ConVista OpenStreetMap</b>\r\n\r\nThis extension uses OpenStreetMap (OMS) as map implementation and the Leaflet framework to work with the map itself.\r\nIn contrast to Google Maps, OMS enables you to host your own tiles server. That way you can be independent from external resources and even work offline.\r\n\r\nPlease note the new lat-long feature is not implemented for my OpenStreetMap because the SAP geomap handles that rather nicely already.\r\n\r\n<b>ConVista GoogleMap</b>\r\n\r\nThis extension uses Google Maps as map implementation and the Google Maps JavaScript API v3 to work with the map itself. Google StreetView is also available. As of today (12th of October 2015) you can use lat-long values provided by your data sources just like with the SAP geomap.\r\n\r\nFunctionality to display trends in key figure development over time, next to the clusters is not yet implemented. This is only available with OSM right now.\r\n\r\nPlease note that you shouldn’t use both components at a time in one Dashboard. This is a result of the mechanism that enables us to insert your Google API key at design time as you specified it in the component’s properties. If you can't help it contact me for a quick workaround.\r\n\r\n<b>Test data out of the box with custom data source (DS 1.4+ required!)</b>\r\n\r\nIf you don't have any geo-referencable data ready to display on our maps extensions or you just want to get a quick hands-on, donwload my custom data source <i>MapsExampleDataSource</i> from https://github.com/MartinPankraz/DesignStudioSDK-Components and include it to your project and the maps extensions as usual.\r\n\r\n\r\nInstallation\r\n------------\r\n•\tDownload the ConVistaMapsExtension.zip ZIP file. You may do this by clicking the Download ZIP button. Please note that you will need to extract the container zip first before you can reach the ConVistaMapsExtension.zip\r\n\r\n•\tClick Tools in Design Studio > install Extension to Design Studio…\r\n\r\n•\tChoose “archive” as installation source (navigate to ZIP file) in dialog\r\n\r\n•\tAccept license and restart Design Studio\r\n\r\n•\tHave fun using our extensions\r\n\r\nMeet me at ConVista Infoday or our world renowned carnival (traditional German costume festival) event in Cologne to chat about our Design Studio and Dashboarding ideas :-)\r\n\r\nTrouble shooting\r\n----------------\r\nPlease note that Design Studio's background processing functionality in combination with <i>hideLoadingState</i> on one of the maps will result in strange marker update behavior. It seems like the DS framework doesn't update the extension's hooks correctly. You may, however use background processing without hiding loading state of the map just fine.\r\n\r\nLicense\r\n-------\r\nThis software product is licensed under the Apache License 2.0.\r\n\r\n\r\nFinal Words\r\n-----------\r\nFeel free to contact me for any advice on usage, installation, and plain trouble shooting or a chat about the awesomeness of Design Studio SDK if you like. Feedback and improvement suggestions are also very welcome.\r\n\r\nmartin.pankraz@convista.com\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}